{% extends "base.html" %}

{% block content %}
    <h1>Blog Posts</h1>

    {% if user.is_authenticated %}
        <a href="{% url 'new_post' %}" class="btn btn-success mb-3">Add New Post</a>
    {% endif %}

    {% for post in posts %}
        <div class="card mt-3">
            <div class="card-header">
                <h5>{{ post.title }}</h5>
                <small>By {{ post.author }} on {{ post.date_added }}</small>
            </div>
            <div class="card-body">
                <p>{{ post.text|truncatechars:200 }}</p>
                <a href="{% url 'post_detail' post.id %}" class="btn btn-primary">Read More</a>
            </div>
        </div>
    {% endfor %}
{% endblock %}
